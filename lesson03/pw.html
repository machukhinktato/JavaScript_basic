<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>practical work, lesson 3</title>
</head>
<body>
<button onclick="task_1(100)">first task</button>
<br>
<button onclick="task_2(20)">second task</button>
<br>
<button onclick="task_3()">thrid task</button>


<script>
    function task_1(limiter) {
        let arr = [2];
        let number = 3;

        while (number <= limiter) {
            if (simpleNum(number, arr)) {
                arr.push(number);
            }
            number++
        }
        return console.log(arr);
    }

    function simpleNum(number, arr) {
        let simple = true;

        arr.forEach(el => {
            if (!(number % el)) {
                simple = false;
            }
        });
        return simple
    }

    function task_2(floors) {
        let firstArr = []
        for (let floor = 1; floor < floors; floor++) {
            let str = '';
            let secArr = floor;
            for (let i = 1; i <= secArr; i++) {
                str += 'x';
            }
            console.log(str);
        }
    }

    function task_3() {
        let plays = 10;
        let play = true;
        let target = getNumber();
        console.log(target);

        while (play) {
            if (plays) {
                let user = [...prompt('Enter number: ')];
                play = checkUser(user, target);
                console.log(play ? `${--plays} rounds left..` : `User wins, your reached target ${target}`)
            } else {
                console.log('YOU LOSE');
                play = false;
            }
        }
    }

    function checkUser(u, g) {
        let bulls = 0;
        let cows = 0;

        for (let i = 0; i < 4; i++) {
            if (+u[i] === g[i]) {
                bulls++;
            } else if (g.includes(+u[i])) {
                cows++;
            }
        }
        analise(bulls, cows, u);

        return bulls == 4 ? false : true

    }

    function getNumber() {
        let arr = [];

        while (arr.length < 4) {
            let rnd = Math.floor(Math.random() * 10);
            if (!arr.includes(rnd)) {
                arr.push(rnd)
            }
        }
        return arr
    }

    function analise(b, c, us) {
        console.log(`
        user: ${us} \n
        bulls: ${b}; cows${c}
        `);
    }
</script>

</body>
</html>