<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>practical work, lesson 3</title>
</head>
<body>
<button onclick="task_1(100)">first task</button>
<br>
<button onclick="task_2(20)">second task</button>
<br>
<button onclick="task_3()">thrid task</button>
<br>
<button onclick="task_4(20)">fourth task</button>
<br>
<button onclick="task_5(20)">fourth task</button>


<script>
    function task_1(limiter) {
        let arr = [2];
        let number = 3;

        while (number <= limiter) {
            if (simpleNum(number, arr)) {
                arr.push(number);
            }
            number++
        }
        return console.log(arr);
    }

    function simpleNum(number, arr) {
        let simple = true;

        arr.forEach(el => {
            if (!(number % el)) {
                simple = false;
            }
        });
        return simple
    }

    function task_2(floors) {
        let firstArr = []
        for (let floor = 1; floor < floors; floor++) {
            let str = '';
            let secArr = floor;
            for (let i = 1; i <= secArr; i++) {
                str += 'x';
            }
            console.log(str);
        }
    }

    function task_3() {
        let plays = 10;
        let play = true;
        let target = getNumber();
        console.log(target);

        while (play) {
            if (plays) {
                let user = [...prompt('Enter number: ')];
                play = checkUser(user, target);
                console.log(play ? `${--plays} plays left` : `You win, your target was reached ${target}`)
            } else {
                console.log('YOU LOSE');
                play = false;
            }
        }
    }

    function checkUser(u, g) {
        let bulls = 0; // hit
        let cows = 0; // presence

        for (let i = 0; i < 4; i++) {
            if (+u[i] === g[i]) {
                bulls++;
            } else if (g.includes(+u[i])) {
                cows++;
            }
        }
        console.log(`${bulls}, ${cows}, ${u}`);

        return bulls == 4 ? false : true

    }

    function getNumber() {
        let arr = [];

        while (arr.length < 4) {
            let rnd = Math.floor(Math.random() * 10);
            if (!arr.includes(rnd)) {
                arr.push(rnd)
            }
        }
        return arr
    }


    function task_4(layers) {
        for (let layer = 1; layer < layers; layer++) {
            let str = ``;
            let numberOfCrosses = layer;
            for (let i = 1; i <= numberOfCrosses; i++) {
                str += `x`;
            }
            console.log(str);
        }
    }

    function task_5 (layers) {
        let commonArr = [];
        for (let layer = 1; layer < layers; layer++) {
            let row = [];
            let numberOfCrosses = layer;
            for (let i = 1; i <= layers; i++) {
                row.push(i <= numberOfCrosses ? 'x' : 'O');
            }
            commonArr.push(row);
        }
        console.log(commonArr);
    }

    // function analise(b, c, us) {
    //     console.log(`
    //     user: ${us} \n
    //     bulls: ${b}; cows${c}
    //     `);
    // }
</script>

</body>
</html>